<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>LLM Computer Vision Library in R • kuzco</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Space_Mono-0.4.10/font.css" rel="stylesheet">
<link href="deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="deps/Kode_Mono-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="LLM Computer Vision Library in R">
<meta name="description" content="Make computer vision tasks approachable in R by leveraging LLMs. kuzco provides fine-tuned prompts, boilerplate functions, and input/output helpers for common computer vision workflows, such as classifying and describing images. Functions are designed to take images as input and return structured data, helping users build practical applications with minimal code.">
<meta property="og:description" content="Make computer vision tasks approachable in R by leveraging LLMs. kuzco provides fine-tuned prompts, boilerplate functions, and input/output helpers for common computer vision workflows, such as classifying and describing images. Functions are designed to take images as input and return structured data, helping users build practical applications with minimal code.">
<meta property="og:image" content="https://frankiethull.github.io/kuzco/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">kuzco</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/batch-image-processing.html">batch-image-processing</a></li>
    <li><a class="dropdown-item" href="articles/cloud-providers.html">cloud-providers</a></li>
    <li><a class="dropdown-item" href="articles/getting-started.html">getting-started</a></li>
    <li><a class="dropdown-item" href="articles/multilingual-support.html">multilingual-support</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/frankiethull/kuzco/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="kuzco-">kuzco <a class="anchor" aria-label="anchor" href="#kuzco-"></a>
</h1>
</div>
<!-- badges: start -->
<!-- badges: end -->
<p>{kuzco} is a simple vision boilerplate built for ollama in R, on top of {ollamar} &amp; {ellmer}. {kuzco} is designed as a computer vision assistant, giving local models guidance on classifying images and return structured data. The goal is to standardize outputs for image classification and use LLMs as an alternative option to keras or torch.</p>
<p>{kuzco} currently supports: classification, recognition, sentiment, text extraction, alt-text creation, and <strong>custom</strong> computer vision tasks.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of kuzco like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"frankiethull/kuzco"</span><span class="op">)</span></span></code></pre></div>
<p><strong>kuzco 0.1.0 can be installed from CRAN via `install.packages(“kuzco”)!</strong></p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to use kuzco.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://frankiethull.github.io/kuzco/">kuzco</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hauselin.github.io/ollama-r/" class="external-link">ollamar</a></span><span class="op">)</span></span></code></pre></div>
<p>here we have an image and want to learn about it:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_img</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"kuzco"</span><span class="op">)</span>, <span class="st">"img/test_img.jpg"</span><span class="op">)</span> </span></code></pre></div>
<div class="float">
<img src="https://raw.githubusercontent.com/frankiethull/kuzco/refs/heads/main/inst/img/test_img.jpg" alt="picture of puppy odin circa 2019."><div class="figcaption">picture of puppy odin circa 2019.</div>
</div>
<div class="section level3">
<h3 id="llm-for-image-classification">llm for image classification:<a class="anchor" aria-label="anchor" href="#llm-for-image-classification"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">llm_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/llm_image_classification.html">llm_image_classification</a></span><span class="op">(</span>llm_model <span class="op">=</span> <span class="st">"qwen2.5vl"</span>, image <span class="op">=</span> <span class="va">test_img</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">llm_results</span> <span class="op">|&gt;</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 7</span></span>
<span><span class="co">#&gt;   image_classification primary_object secondary_object image_description        </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                &lt;chr&gt;          &lt;chr&gt;            &lt;chr&gt;                    </span></span>
<span><span class="co">#&gt; 1 pet                  puppy          ""               A close-up of a young pu…</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: image_colors &lt;chr&gt;, image_proba_names &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   image_proba_values &lt;chr&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">llm_results</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [1 × 7] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ image_classification: chr "pet"</span></span>
<span><span class="co">#&gt;  $ primary_object      : chr "puppy"</span></span>
<span><span class="co">#&gt;  $ secondary_object    : chr ""</span></span>
<span><span class="co">#&gt;  $ image_description   : chr "A close-up of a young puppy with a mix of white and brown fur, sitting on a red plaid fabric, possibly a couch or blanket."</span></span>
<span><span class="co">#&gt;  $ image_colors        : chr "[#CCCCCC, #000000, #CC0000, #FFFFFF, #808080]"</span></span>
<span><span class="co">#&gt;  $ image_proba_names   : chr "['puppy', 'fabric', 'animal', 'dog breed', 'furry']"</span></span>
<span><span class="co">#&gt;  $ image_proba_values  : chr "[0.6, 0.15, 0.1, 0.05, 0.05]"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="llm-for-image-sentiment">llm for image sentiment:<a class="anchor" aria-label="anchor" href="#llm-for-image-sentiment"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">llm_emotion</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/llm_image_sentiment.html">llm_image_sentiment</a></span><span class="op">(</span>llm_model <span class="op">=</span> <span class="st">"qwen2.5vl"</span>, image <span class="op">=</span> <span class="va">test_img</span><span class="op">)</span></span>
<span></span>
<span><span class="va">llm_emotion</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [1 × 4] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ image_sentiment      : chr "positive"</span></span>
<span><span class="co">#&gt;  $ image_score          : num 0.9</span></span>
<span><span class="co">#&gt;  $ sentiment_description: chr "The adorable and slightly squint-eyed puppy conveys curiosity and an innocent charm, evoking a tender and affec"| __truncated__</span></span>
<span><span class="co">#&gt;  $ image_keywords       : chr "cute, adorable, curious, innocent, lovable"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="llm-for-image-recognition">llm for image recognition:<a class="anchor" aria-label="anchor" href="#llm-for-image-recognition"></a>
</h3>
<p>note that the backend of kuzco is flexible as well. This allows users to specify between ‘ollamar’, which suggests structured outputs, while ‘ellmer’ enforces structured outputs.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">llm_detection</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/llm_image_recognition.html">llm_image_recognition</a></span><span class="op">(</span>llm_model <span class="op">=</span> <span class="st">"qwen2.5vl"</span>, </span>
<span>                                       image <span class="op">=</span> <span class="va">test_img</span>,</span>
<span>                                       recognize_object <span class="op">=</span> <span class="st">"nose"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">llm_detection</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [1 × 4] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ object_recognized : chr "Nose"</span></span>
<span><span class="co">#&gt;  $ object_count      : int 0</span></span>
<span><span class="co">#&gt;  $ object_description: chr "Nose"</span></span>
<span><span class="co">#&gt;  $ object_location   : chr "top"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="llm-for-image-text-extraction">llm for image text extraction:<a class="anchor" aria-label="anchor" href="#llm-for-image-text-extraction"></a>
</h3>
<p>kuzco is also useful for OCR tasks, extracting text from images is showcased below:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">text_img</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"kuzco"</span><span class="op">)</span>, <span class="st">"img/text_img.jpg"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">text_img</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/view_image.html">view_image</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png" width="100%"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">llm_extract_txt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/llm_image_extract_text.html">llm_image_extract_text</a></span><span class="op">(</span>llm_model <span class="op">=</span> <span class="st">"qwen2.5vl"</span>, </span>
<span>                                          image <span class="op">=</span> <span class="va">text_img</span>,</span>
<span>                                          backend  <span class="op">=</span> <span class="st">"ellmer"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">llm_extract_txt</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [2 × 2] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ text            : chr [1:2] "Picture of Odin\nas a puppy\n" "circa Q4 2019"</span></span>
<span><span class="co">#&gt;  $ confidence_score: num [1:2] 0.95 0.92</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="newer-features">newer features<a class="anchor" aria-label="anchor" href="#newer-features"></a>
</h2>
<div class="section level3">
<h3 id="llm-image-customization">llm image customization:<a class="anchor" aria-label="anchor" href="#llm-image-customization"></a>
</h3>
<p>a new feature in kuzco, is a fully customizable function. This allows users to further test computer vision techniques without leaving the kuzco boilerplate.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">llm_customized</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/llm_image_custom.html">llm_image_custom</a></span><span class="op">(</span>llm_model <span class="op">=</span> <span class="st">"qwen2.5vl"</span>, </span>
<span>                                   image <span class="op">=</span> <span class="va">test_img</span>,</span>
<span>                                   system_prompt <span class="op">=</span> <span class="st">"you are a dog breed expert, you know all about dogs. </span></span>
<span><span class="st">                                                    tell me the primary breed, secondary breed, and a brief description about both."</span>,</span>
<span>                                   image_prompt  <span class="op">=</span> <span class="st">"tell me what kind of dog is in the image?"</span>,</span>
<span>                                   example_df <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>                                     dog_breed_primary <span class="op">=</span> <span class="st">"hound"</span>,</span>
<span>                                     dog_breed_secondary <span class="op">=</span> <span class="st">"corgi"</span>,</span>
<span>                                     dog_breed_information <span class="op">=</span> <span class="st">"information about the primary and secondary breed"</span></span>
<span>                                   <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">llm_customized</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    1 obs. of  3 variables:</span></span>
<span><span class="co">#&gt;  $ dog_breed_primary    : chr "Pointer"</span></span>
<span><span class="co">#&gt;  $ dog_breed_secondary  : chr "Cocker Spaniel"</span></span>
<span><span class="co">#&gt;  $ dog_breed_information: chr "This image features a puppy with a mottled coat that is likely a mix of Pointer and Cocker Spaniel. Pointers ar"| __truncated__</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="additional-enhancements">additional enhancements:<a class="anchor" aria-label="anchor" href="#additional-enhancements"></a>
</h3>
<div class="section level4">
<h4 id="io-helpers">i/o helpers<a class="anchor" aria-label="anchor" href="#io-helpers"></a>
</h4>
<p>kuzco now has <code>view_image</code> &amp; <code>view_llm_results</code> functions within the package, making it easy to view images and display llm results. In addition to this, kuzco now features <code>kuzco_app</code> a fully functioning shiny application within the package. Making it even easier to do computer vision with LLMs in R.</p>
</div>
<div class="section level4">
<h4 id="cloud-based-llms">cloud-based LLMs<a class="anchor" aria-label="anchor" href="#cloud-based-llms"></a>
</h4>
<p>kuzco now supports all LLM providers that are supported by <code>ellmer</code>! That’s correct, you can now send images to Perplexity, Claude, OpenAI, Gemini, the list goes on. This defaults to “ollama” to maintain the original workflows.</p>
<p><em>Cloud-hosted LLMs generally offer greater speed and more advanced capabilities, but require users to obtain an API key since inference is handled remotely. While some providers offer a free tier with usage limits, others do not. Keep in mind that using a cloud-hosted LLM comes with less privacy compared to running a model locally, but it enables access to powerful, cutting-edge models. To get started, users should set up their API key in their environment and select a provider-hosted model that supports image processing.</em></p>
<p>A mistral example below using pixtral-12b, which is still a pretty small model. But leverages mistral’s compute, instead of yours.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># via base R:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>MISTRAL_API_KEY <span class="op">=</span> <span class="st">"the_api_key_via_the_provider"</span><span class="op">)</span></span>
<span><span class="co"># or usethis:</span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">edit_r_environ</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">kuzco</span><span class="fu">::</span><span class="fu"><a href="reference/llm_image_classification.html">llm_image_classification</a></span><span class="op">(</span>provider <span class="op">=</span> <span class="st">"mistral"</span>, llm_model <span class="op">=</span> <span class="st">"pixtral-12b"</span>, image <span class="op">=</span> <span class="va">test_img</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/frankiethull/kuzco/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/frankiethull/kuzco/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing kuzco</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Frank Hull <br><small class="roles"> Author, maintainer, copyright holder </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Frank Hull.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
